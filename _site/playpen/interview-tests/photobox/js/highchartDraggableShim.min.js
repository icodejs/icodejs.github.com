(function(e){function r(e,t){var n=t.options,r=n.dragMinY,i=n.dragMaxY;return e<r?e=r:e>i&&(e=i),e}var t=e.addEvent,n=e.each;e.Chart.prototype.callbacks.push(function(e){function f(t){if(i){var n=s-t.pageX,f=o-t.pageY,l=u-n-i.series.xAxis.minPixelPadding,c=e.plotHeight-a+f,h=i.series,p=s===undefined?i.x:i.series.xAxis.translate(l,!0),d=o===undefined?i.y:i.series.yAxis.translate(c,!0);d=r(d,h),i.firePointEvent("drop"),i.update([p,d]),i=s=o=undefined}}var n=e.container,i,s,o,u,a;e.redraw(),t(n,"mousedown",function(t){var n=e.hoverPoint,r=n&&n.series.options;r.draggableX&&(i=n,s=t.pageX,u=i.plotX),r.draggableY&&(i=n,o=t.pageY,a=i.plotY+(e.plotHeight-(i.yBottom||e.plotHeight)))}),t(n,"mousemove",function(t){if(i){var n=o-t.pageY,f=s-t.pageX,l=u-f-i.series.xAxis.minPixelPadding,c=e.plotHeight-a+n,h=s===undefined?i.x:i.series.xAxis.translate(l,!0),p=o===undefined?i.y:i.series.yAxis.translate(c,!0),d=i.series;p=r(p,d),i.update([h,p],!1),e.tooltip.refresh(i),d.stackKey?e.redraw():d.redraw()}}),t(document,"mouseup",f),t(n,"mouseleave",f)});var i=e.seriesTypes.column.prototype,s=i.drawTracker;i.drawTracker=function(){var e=this;s.apply(e),n(e.points,function(e){e.tracker.attr(e.shapeArgs.height<3?{stroke:"black","stroke-width":2,dashstyle:"shortdot"}:{"stroke-width":0})})}})(window.Highcharts)